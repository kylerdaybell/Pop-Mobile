{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/kyler/Desktop/Pop-Mobile/popapp/Components/Login.tsx\";\nimport React, { useState } from \"react\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Actions } from 'react-native-router-flux';\nimport APIUserService from \"../Services/APIServices/APIUserService\";\nimport Token from \"../Models/TokenModel\";\nimport User from \"../Models/UserModel\";\n\nvar Login = function Login() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(new Token(\"\")),\n      _useState6 = _slicedToArray(_useState5, 2),\n      ThisToken = _useState6[0],\n      setThisToken = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      Registered = _useState8[0],\n      setRegistered = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      Deleted = _useState10[0],\n      setDeleted = _useState10[1];\n\n  var HomePage = function HomePage() {\n    var token;\n    return _regeneratorRuntime.async(function HomePage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(UserLogin());\n\n          case 2:\n            token = _context.sent;\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var UserLogin = function UserLogin() {\n    var apiservice, user, token;\n    return _regeneratorRuntime.async(function UserLogin$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            apiservice = new APIUserService();\n            user = new User(0, username, password, \"admin\");\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(apiservice.Login(user));\n\n          case 4:\n            token = _context2.sent;\n\n            if (!token) {\n              _context2.next = 11;\n              break;\n            }\n\n            AsyncStorage.setItem(\"Token\", token.key);\n            setThisToken(token);\n            return _context2.abrupt(\"return\", token);\n\n          case 11:\n            setThisToken(new Token(\"\"));\n            return _context2.abrupt(\"return\", new Token(\"\"));\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var goToHome = function goToHome() {\n    Actions.home();\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(TouchableOpacity, {\n    style: {\n      margin: 128,\n      backgroundColor: '#aaa'\n    },\n    onPress: goToHome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Go Home\")), React.createElement(TextInput, {\n    style: {\n      height: 40,\n      borderColor: 'gray',\n      borderWidth: 1\n    },\n    onChangeText: function onChangeText(text) {\n      return setUsername(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    secureTextEntry: true,\n    style: {\n      height: 40,\n      borderColor: 'gray',\n      borderWidth: 1\n    },\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    onPress: UserLogin,\n    title: \"Learn More\",\n    color: \"#841584\",\n    accessibilityLabel: \"Learn more about this purple button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/kyler/Desktop/Pop-Mobile/popapp/Components/Login.tsx"],"names":["React","useState","Actions","APIUserService","Token","User","Login","username","setUsername","password","setPassword","ThisToken","setThisToken","Registered","setRegistered","Deleted","setDeleted","HomePage","UserLogin","token","apiservice","user","AsyncStorage","setItem","key","goToHome","home","margin","backgroundColor","height","borderColor","borderWidth","text"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, FunctionComponent } from \"react\";\nimport { TouchableOpacity, Text, AsyncStorage, TextInput, Button } from 'react-native'\nimport { Actions } from 'react-native-router-flux';\nimport APIUserService from '../Services/APIServices/APIUserService';\nimport APIPostService from '../Services/APIServices/APIPostService';\nimport Token from '../Models/TokenModel';\nimport User from '../Models/UserModel';\nimport Post from '../Models/PostModel';\n\nconst Login = () => {\n\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [ThisToken, setThisToken] = useState(new Token(\"\"));\n    const [Registered, setRegistered] = useState(\"\");\n    const [Deleted, setDeleted] = useState(\"\");\n\n    const HomePage = async() =>{\n        let token = await UserLogin();\n    }\n\n\n\n    const UserLogin = async() =>{\n        let apiservice = new APIUserService()\n        let user = new User(0,username,password,\"admin\")\n        let token = await apiservice.Login(user);\n        if(token){\n            AsyncStorage.setItem(\"Token\", token.key);\n            setThisToken(token);\n            return token;\n        }else{\n            setThisToken(new Token(\"\"));\n            return new Token(\"\");\n        }\n    }\n    \n   const goToHome = () => {\n      Actions.home()\n   }\n\n   return (\n       <>\n        <TouchableOpacity style = {{margin: 128,backgroundColor:'#aaa' }} onPress = {goToHome}>\n        <Text>Go Home</Text>\n        </TouchableOpacity>\n        \n        <TextInput\n        style={{ height: 40, borderColor: 'gray', borderWidth: 1 }}\n        onChangeText={text => setUsername(text)}\n        />\n        \n        <TextInput\n        secureTextEntry={true}\n        style={{ height: 40, borderColor: 'gray', borderWidth: 1 }}\n        onChangeText={text => setPassword(text)}\n        />\n        <Button\n        onPress={UserLogin}\n        title=\"Learn More\"\n        color=\"#841584\"\n        accessibilityLabel=\"Learn more about this purple button\"\n        />\n       </>\n   )\n}\nexport default Login"]},"metadata":{},"sourceType":"module"}